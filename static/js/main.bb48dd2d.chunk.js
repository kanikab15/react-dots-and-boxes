(this["webpackJsonpdots-and-boxes"]=this["webpackJsonpdots-and-boxes"]||[]).push([[0],{10:function(e,t,o){e.exports=o(17)},15:function(e,t,o){},16:function(e,t,o){},17:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),r=o(9),i=o.n(r),s=(o(15),o(5)),c=o(1),l=o(2),d=o(4),x=o(3),y=(o(16),n.a.createContext()),u=function(e){Object(d.a)(o,e);var t=Object(x.a)(o);function o(){var e;Object(c.a)(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).line=n.a.createRef(),e.handleClick=function(t){e.line.current.classList.add("line-clicked"),t.setClickedLineId(e.props.i),e.props.onClick(e.props.i)},e}return Object(l.a)(o,[{key:"render",value:function(){var e=this;return n.a.createElement(y.Consumer,null,(function(t){return n.a.createElement("line",{ref:e.line,key:"line"+e.props.i,className:"line",x1:e.props.x1,y1:e.props.y1,x2:e.props.x2,y2:e.props.y2,strokeWidth:"6",onClick:function(){e.handleClick(t)}})}))}}]),o}(n.a.Component),p=o(6),h=o(7),C="#F29745",f="#80BF5E",b="Player 1 wins!",k="Player 2 wins!",m="It's a draw!",v=function(e){Object(d.a)(o,e);var t=Object(x.a)(o);function o(e){var a;Object(c.a)(this,o),a=t.call(this,e);var n=e.lineIdsOfBox.reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},t,!1))}),{});return a.state={areLinesOfBoxClicked:n,colorOfCapturedBox:""},a}return Object(l.a)(o,[{key:"componentDidUpdate",value:function(){var e=this.context,t="";if(e.state.clickedLineId&&!1===this.state.areLinesOfBoxClicked[e.state.clickedLineId]){var o=this.state.areLinesOfBoxClicked;o[e.state.clickedLineId]=!0,Object.values(o).reduce((function(e,t){return e&&t}),!0)&&!this.state.colorOfCapturedBox&&(t=this.props.player1IsNext?C:f),this.setState({areLinesOfBoxClicked:o,colorOfCapturedBox:t})}}},{key:"render",value:function(){return n.a.createElement("polygon",{key:this.props.i,points:this.props.points,fill:this.state.colorOfCapturedBox?this.state.colorOfCapturedBox:"transparent",stroke:"white"})}}]),o}(n.a.Component);v.contextType=y;var O=v,I=function(e){Object(d.a)(o,e);var t=Object(x.a)(o);function o(){var e;Object(c.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={dotCoordinates:{},lineCoordinates:{},boxCoordinates:{},clickedLineId:"",player1IsNext:!0,player1Score:0,player2Score:0,result:""},e.isBoxCaptured=function(t){return[e.state.boxCoordinates[t].line0Id,e.state.boxCoordinates[t].line1Id,e.state.boxCoordinates[t].line2Id,e.state.boxCoordinates[t].line3Id].reduce((function(t,o){return t&&e.state.lineCoordinates[o].isClicked}),!0)},e.areAllBoxesCaptured=function(){return Object.values(e.state.boxCoordinates).reduce((function(e,t){return e&&t.isCaptured}),!0)},e.findALineFromCoordinates=function(t,o){for(var a=t.x1,n=t.y1,r=t.x2,i=t.y2,s=o?Object.keys(o):Object.keys(e.state.lineCoordinates),c={},l=0;l<s.length;l++){var d=o[s[l]];if(d.x1===a&&d.x2===r&&d.y1===n&&d.y2===i){c=s[l];break}}return c},e.handleClick=function(t){if(!e.state.lineCoordinates[t].isClicked){var o=e.state.lineCoordinates;o[t].isClicked=!0,e.setState({lineCoordinates:o},(function(){var o=0,a=e.state.boxCoordinates,n=e.state.player1Score,r=e.state.player2Score,i=e.state.player1IsNext,s=e.state.lineCoordinates[t].lineToBoxes.reduce((function(t,n){var r=e.isBoxCaptured(n);return r&&(o++,a[n].isCaptured=!0),t||r}),!1);s&&e.state.player1IsNext?n+=o:s&&!e.state.player1IsNext?r+=o:s||(i=!i),e.setState({boxCoordinates:a,player1Score:n,player2Score:r,player1IsNext:i},(function(){var t="";e.areAllBoxesCaptured()&&(e.state.player1Score>e.state.player2Score?t=b:e.state.player1Score<e.state.player2Score?t=k:e.state.player1Score===e.state.player2Score&&(t=m)),e.setState({result:t})}))}))}},e}return Object(l.a)(o,[{key:"componentDidMount",value:function(){for(var e=160,t=70,o={},a={},n={},r=0;r<25;r++)o[r]={x:t,y:e},e+=90,(r+1)%5===0&&(e=160,t+=90);for(var i=0;i<25;i++)i<20&&(a[i]={x1:o[i].x,y1:o[i].y,x2:o[i+5].x,y2:o[i+5].y}),(i+1)%5!==0&&(a[i+20]={x1:o[i].x,y1:o[i].y,x2:o[i+1].x,y2:o[i+1].y});for(var c=0;c<25;c++)if(c+5+1<25&&(c+1)%5!==0){n[c]={x1:o[c].x,y1:o[c].y,x2:o[c+5].x,y2:o[c+5].y,x3:o[c+5+1].x,y3:o[c+5+1].y,x4:o[c+1].x,y4:o[c+1].y};var l=this.findALineFromCoordinates({x1:n[c].x1,y1:n[c].y1,x2:n[c].x2,y2:n[c].y2},a),d=this.findALineFromCoordinates({x1:n[c].x2,y1:n[c].y2,x2:n[c].x3,y2:n[c].y3},a),x=this.findALineFromCoordinates({x1:n[c].x4,y1:n[c].y4,x2:n[c].x3,y2:n[c].y3},a),y=this.findALineFromCoordinates({x1:n[c].x1,y1:n[c].y1,x2:n[c].x4,y2:n[c].y4},a);n[c].line0Id=l,n[c].line1Id=d,n[c].line2Id=x,n[c].line3Id=y,a[l].lineToBoxes=a[l].lineToBoxes?[].concat(Object(s.a)(a[l].lineToBoxes),[c]):[c],a[d].lineToBoxes=a[d].lineToBoxes?[].concat(Object(s.a)(a[d].lineToBoxes),[c]):[c],a[x].lineToBoxes=a[x].lineToBoxes?[].concat(Object(s.a)(a[x].lineToBoxes),[c]):[c],a[y].lineToBoxes=a[y].lineToBoxes?[].concat(Object(s.a)(a[y].lineToBoxes),[c]):[c]}this.setState({lineCoordinates:a,dotCoordinates:o,boxCoordinates:n})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("svg",{height:"500",width:"500",viewBox:"0 0 600 600"},n.a.createElement("circle",{cx:"30",cy:"20",r:"17",fill:C,stroke:this.state.player1IsNext?"lightblue":"none",strokeWidth:"3"}),n.a.createElement("rect",{x:"5",y:"38",width:"50",height:"30",rx:"10",fill:C,stroke:this.state.player1IsNext?"lightblue":"none",strokeWidth:"3"}),n.a.createElement("text",{x:"72",y:"57",fill:"maroon"},this.state.player1Score),n.a.createElement("text",{x:"180",y:"57",fill:"maroon"},this.state.result),n.a.createElement("circle",{cx:"470",cy:"20",r:"17",fill:f,stroke:this.state.player1IsNext?"none":"lightblue",strokeWidth:"3"}),n.a.createElement("rect",{x:"445",y:"38",width:"50",height:"30",rx:"10",fill:f,stroke:this.state.player1IsNext?"none":"lightblue",strokeWidth:"3"}),n.a.createElement("text",{x:"415",y:"57",fill:"maroon"},this.state.player2Score),n.a.createElement("rect",{y:"90",width:"500",height:"500",fill:"lightblue"}),n.a.createElement(y.Provider,{value:{state:this.state,setClickedLineId:function(t){return e.setState({clickedLineId:t})}}},Object.keys(this.state.boxCoordinates).map((function(t){var o=Number(t),a="".concat(e.state.boxCoordinates[o].x1,",").concat(e.state.boxCoordinates[o].y1," ");return a+="".concat(e.state.boxCoordinates[o].x2,",").concat(e.state.boxCoordinates[o].y2," "),a+="".concat(e.state.boxCoordinates[o].x3,",").concat(e.state.boxCoordinates[o].y3," "),a+="".concat(e.state.boxCoordinates[o].x4,",").concat(e.state.boxCoordinates[o].y4," "),n.a.createElement(O,{key:t,points:a,i:t,player1IsNext:e.state.player1IsNext,lineIdsOfBox:[e.state.boxCoordinates[o].line0Id,e.state.boxCoordinates[o].line1Id,e.state.boxCoordinates[o].line2Id,e.state.boxCoordinates[o].line3Id]})})),Object.keys(this.state.lineCoordinates).map((function(t){var o=[];return o.push(n.a.createElement(u,{key:"line"+t,i:t,x1:e.state.lineCoordinates[t].x1,y1:e.state.lineCoordinates[t].y1,x2:e.state.lineCoordinates[t].x2,y2:e.state.lineCoordinates[t].y2,onClick:e.handleClick})),o}))),Object.keys(this.state.dotCoordinates).map((function(t){return n.a.createElement("circle",{cx:e.state.dotCoordinates[t].x,cy:e.state.dotCoordinates[t].y,r:"10",fill:"maroon",key:t})})))))}}]),o}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.bb48dd2d.chunk.js.map